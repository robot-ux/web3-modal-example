(window.webpackChunkmodernjs=window.webpackChunkmodernjs||[]).push([[179],{81461:function(n,e,t){"use strict";t.d(e,{Z:function(){return k}});var r=t(21611),c=t(87757),a=t.n(c),i=t(87706),o=t.n(i),s=t(3283),u=t.n(s),f=t(67294),l={"0x01":"eth-mainnet","0x03":"ropsten-testnet","0x61":"bsc-testnet","0x38":"bsc-mainnet"},d=t(85893),h=t(25108);function p(n,e,t,r,c,a,i){try{var o=n[a](i),s=o.value}catch(u){return void t(u)}o.done?e(s):Promise.resolve(s).then(r,c)}function b(n){return function(){var e=this,t=arguments;return new Promise((function(r,c){var a=n.apply(e,t);function i(n){p(a,r,c,i,o,"next",n)}function o(n){p(a,r,c,i,o,"throw",n)}i(void 0)}))}}function x(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var r,c,a=[],i=!0,o=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(s){o=!0,c=s}finally{try{i||null==t.return||t.return()}finally{if(o)throw c}}return a}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return v(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var m=function(){var n=x((0,f.useState)({}),2),e=n[0],t=n[1],r=x((0,f.useState)({}),2),c=r[0],i=r[1],s=x((0,f.useState)({}),2),p=s[0],v=s[1],m=x((0,f.useState)({}),2),k=m[0],w=m[1],y=x((0,f.useState)(""),2),j=y[0],g=y[1];(0,f.useEffect)((function(){t(new(o())({providerOptions:{binancewallet:{package:window.BinanceChain},metamask:{package:window.ethereum}},cacheProvider:!0}))}),[]),(0,f.useEffect)((function(){e.cachedProvider&&C()}),[e]);var C=(0,f.useCallback)(b(a().mark((function n(){var t,r,c,o,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.connect();case 2:return t=n.sent,r=new(u())(t),n.next=6,t.request({method:"eth_chainId"});case 6:return c=n.sent,(o=function(n){var e=r.utils.toHex(n||"unknown");w({chainId:n,hex:e,name:l[e]})})(c),t.on("chainChanged",(function(n){o(Number(n))})),n.next=12,r.eth.getAccounts();case 12:s=n.sent,i({accounts:s}),v(r),g(s[0]),t.on("accountsChanged",(function(n){g(n[0])}));case 17:case"end":return n.stop()}}),n)}))),[e]),S=(0,f.useCallback)(b(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.eth){n.next=3;break}return i({error:"Please click connect first"}),n.abrupt("return");case 3:return"0x749324f788147326a2d3113d1926fcd82b4fb6f02e0a29b897a2e614dcc40464",n.prev=4,n.next=7,p.eth.sign("0x749324f788147326a2d3113d1926fcd82b4fb6f02e0a29b897a2e614dcc40464",j);case 7:e=n.sent,i({signature:e}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),h.info(n.t0);case 14:case"end":return n.stop()}}),n,null,[[4,11]])}))),[p,j]),A=(0,f.useCallback)(b(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.eth){n.next=3;break}return i({error:"Please click connect first"}),n.abrupt("return");case 3:return"0x749324f788147326a2d3113d1926fcd82b4fb6f02e0a29b897a2e614dcc40464",n.prev=4,n.next=7,p.eth.personal.sign("0x749324f788147326a2d3113d1926fcd82b4fb6f02e0a29b897a2e614dcc40464",j,"");case 7:e=n.sent,i({signature:e}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),h.info(n.t0);case 14:case"end":return n.stop()}}),n,null,[[4,11]])}))),[p,j]),N=(0,f.useCallback)(b(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.eth){n.next=3;break}return i({error:"Please click connect first"}),n.abrupt("return");case 3:return n.prev=3,n.next=6,p.eth.sendTransaction({to:j,from:j,value:1e15});case 6:e=n.sent,i(e),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),h.info(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),[p,j]),P=function(){var n=b(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.reconnect();case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:["Extension: ",e.cachedProvider]}),(0,d.jsxs)("div",{className:"network",children:["Network: ",JSON.stringify(k)]}),(0,d.jsxs)("div",{className:"network",children:["Account: ",j]}),(0,d.jsx)("div",{className:"display-panel",children:JSON.stringify(c,null,2)})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("button",{type:"button",onClick:function(){e.disconnect(),i({}),v({})},children:"Clear Connect"}),(0,d.jsx)("button",{type:"button",onClick:C,children:"Connect"}),(0,d.jsx)("button",{type:"button",onClick:P,children:"ReConnect"}),(0,d.jsx)("button",{type:"button",onClick:S,children:"Eth_sign"}),(0,d.jsx)("button",{type:"button",onClick:A,children:"Personal_sign"}),(0,d.jsx)("button",{type:"button",onClick:N,children:"Eth_sendTransaction"})]})]})},k=function(){return(0,d.jsxs)(r.rs,{children:[(0,d.jsx)(r.AW,{exact:!0,path:"/",children:(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("h2",{className:"description",children:["Web3 Modal Test (",(0,d.jsx)("a",{href:"https://github.com/robot-ux/web3-modal-example",children:"Github"}),")"]}),(0,d.jsx)("div",{className:"grid",children:(0,d.jsx)(m,{})})]})}),(0,d.jsx)(r.AW,{path:"*",children:(0,d.jsx)("div",{children:"404"})})]})}},46601:function(){},89214:function(){},71922:function(){},2363:function(){},27790:function(){},52361:function(){},94616:function(){},6567:function(){},69862:function(){},40964:function(){},71408:function(){},23646:function(){}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[956],(function(){return e(81486),e(35666),e(81271)}));n.O()}]);
//# sourceMappingURL=main.b75c9c0a.js.map