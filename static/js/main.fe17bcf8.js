(window.webpackChunkmodernjs=window.webpackChunkmodernjs||[]).push([[179],{36757:function(n){function e(n){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=function(){return[]},e.resolve=e,e.id=36757,n.exports=e},77428:function(n,e,t){"use strict";t.d(e,{Z:function(){return A}});var r=t(21611),c=t(87757),a=t.n(c),o=t(87706),s=t.n(o),i=t(3283),u=t.n(i),l=t(67294),d={"0x1":"eth-mainnet","0x3":"ropsten-testnet","0x61":"bsc-testnet","0x38":"bsc-mainnet"},f=t(85893),h=t(25108);function p(n,e,t,r,c,a,o){try{var s=n[a](o),i=s.value}catch(u){return void t(u)}s.done?e(i):Promise.resolve(i).then(r,c)}function v(n){return function(){var e=this,t=arguments;return new Promise((function(r,c){var a=n.apply(e,t);function o(n){p(a,r,c,o,s,"next",n)}function s(n){p(a,r,c,o,s,"throw",n)}o(void 0)}))}}function x(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null==t)return;var r,c,a=[],o=!0,s=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(i){s=!0,c=i}finally{try{o||null==t.return||t.return()}finally{if(s)throw c}}return a}(n,e)||function(n,e){if(!n)return;if("string"===typeof n)return b(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return b(n,e)}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}var m=function(){var n=x((0,l.useState)({}),2),e=n[0],t=n[1],r=x((0,l.useState)({}),2),c=r[0],o=r[1],i=x((0,l.useState)({}),2),p=i[0],b=i[1],m=x((0,l.useState)({}),2),w=m[0],k=m[1],y=x((0,l.useState)(""),2),C=y[0],A=y[1];(0,l.useEffect)((function(){t(new(s())({providerOptions:{binancewallet:{package:window.BinanceChain},metamask:{package:window.ethereum}},cacheProvider:!0}))}),[]),(0,l.useEffect)((function(){e.cachedProvider&&j()}),[e]);var j=(0,l.useCallback)(v(a().mark((function n(){var t,r,c,s,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.connect();case 2:return t=n.sent,r=new(u())(t),n.next=6,t.request({method:"eth_chainId"});case 6:return c=n.sent,(s=function(n){var e=r.utils.toHex(n||"unknown");k({chainId:Number(n),hex:e,name:d[e]})})(c),t.on("chainChanged",(function(n){s(n)})),n.next=12,r.eth.getAccounts();case 12:i=n.sent,o({accounts:i}),b(r),A(i[0]),t.on("accountsChanged",(function(n){A(n[0])}));case 17:case"end":return n.stop()}}),n)}))),[e]),g=(0,l.useCallback)(v(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.eth){n.next=3;break}return o({error:"Please click connect first"}),n.abrupt("return");case 3:return n.next=5,e.reconnect();case 5:window.location.reload();case 6:case"end":return n.stop()}}),n)}))),[p]),N=(0,l.useCallback)(v(a().mark((function n(){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.eth){n.next=3;break}return o({error:"Please click connect first"}),n.abrupt("return");case 3:return"ABC",e=p.utils.keccak256("ABC"),n.prev=5,n.next=8,p.eth.sign(e,C);case 8:t=n.sent,o({signature:t}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),h.info(n.t0);case 15:case"end":return n.stop()}}),n,null,[[5,12]])}))),[p,C]),S=(0,l.useCallback)(v(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.eth){n.next=3;break}return o({error:"Please click connect first"}),n.abrupt("return");case 3:return"ABC",n.prev=4,n.next=7,p.eth.personal.sign("ABC",C,"");case 7:e=n.sent,o({signature:e}),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),h.info(n.t0);case 14:case"end":return n.stop()}}),n,null,[[4,11]])}))),[p,C]),P=(0,l.useCallback)(v(a().mark((function n(){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(p.eth){n.next=3;break}return o({error:"Please click connect first"}),n.abrupt("return");case 3:return n.prev=3,n.next=6,p.eth.sendTransaction({to:C,from:C,value:1e15});case 6:e=n.sent,o(e),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(3),h.info(n.t0);case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),[p,C]),E=(0,l.useCallback)((function(){p.eth?(e.disconnect(),o({}),b({})):o({error:"Please click connect first"})}),[p]);return(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{children:["Extension: ",e.cachedProvider]}),(0,f.jsxs)("div",{className:"network",children:["Network: ",JSON.stringify(w)]}),(0,f.jsxs)("div",{className:"network",children:["Account: ",C]}),(0,f.jsx)("div",{className:"display-panel",children:JSON.stringify(c,null,2)})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{type:"button",onClick:E,children:"DisConnect"}),(0,f.jsx)("button",{type:"button",onClick:e.cachedProvider?g:j,children:"Connect"}),(0,f.jsx)("button",{type:"button",onClick:N,children:"Eth_sign"}),(0,f.jsx)("button",{type:"button",onClick:S,children:"Personal_sign"}),(0,f.jsx)("button",{type:"button",onClick:P,children:"Eth_sendTransaction"})]})]})},w=t(79260),k=t(25108);function y(n,e,t,r,c,a,o){try{var s=n[a](o),i=s.value}catch(u){return void t(u)}s.done?e(i):Promise.resolve(i).then(r,c)}var C=function(){var n=function(){var n,e=(n=a().mark((function n(){var e,t,r,c,o,s,i,u,l,d,f,h,p,v,x,b,m,y,C,A,j;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="0x967280A833bd1924C58c61C2d0dFe2D772c37178",c="0.01",o="0.01",i={address:"0xFf21ddc5b114a5E4F1ee813180276dDdE7160C73",privateKey:""},l={network:u={id:"eth-mainnet",url:"https://mainnet.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161"},amount:"1",inAsset:e={decimals:6,networkSymbol:"USDT",contractAddress:"0xdac17f958d2ee523a2206206994597c13d831ec7"},outAsset:t={decimals:18,networkSymbol:"1INCH",contractAddress:"0x111111111117dc0aa78b770fa6a738034120c302"},routers:s=[{type:"uniswap",address:"0x7a250d5630b4cf539739df2c5dacb4c659f2488d"}]},n.next=11,(0,w.mE)(l);case 11:return d=n.sent,f=d.quotes,h=d.path,p=f[0],k.log("quotes: ",f),k.log("paths: ",h),n.next=19,(0,w.es)({network:u,asset:e,allowance:p.inAmount,from:i.address,spenderAddress:r});case 19:if(v=n.sent,x=v.needApproval,b=v.buildApproval,!x){n.next=30;break}return n.next=25,b();case 25:return m=n.sent,y=m.sign,C=m.send,n.next=30,C(y(i.privateKey));case 30:return n.next=32,(0,w.ID)({network:u,from:i.address,inAmount:p.inAmount,inAsset:e,outAsset:t,outAmount:(Number(p.outAmount)*(1-Number(c)-Number(o))).toString(),type:"EXACT_INPUT",timeout:1200,config:{swapContract:r,routerContract:s[0].address,path:h}});case 32:A=n.sent,j=A.fee,A.sign,A.send,k.log({fee:j});case 37:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,c){var a=n.apply(e,t);function o(n){y(a,r,c,o,s,"next",n)}function s(n){y(a,r,c,o,s,"throw",n)}o(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,f.jsx)("button",{onClick:n,type:"button",children:"send"})},A=function(){return(0,f.jsxs)(r.rs,{children:[(0,f.jsx)(r.AW,{exact:!0,path:"/",children:(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("h2",{className:"description",children:["Web3 Modal Test (",(0,f.jsx)("a",{href:"https://github.com/robot-ux/web3-modal-example",children:"Github"}),")"]}),(0,f.jsx)("div",{className:"grid",children:(0,f.jsx)(m,{})})]})}),(0,f.jsx)(r.AW,{exact:!0,path:"/test-bcw",children:(0,f.jsx)(C,{})}),(0,f.jsx)(r.AW,{path:"*",children:(0,f.jsx)("div",{children:"404"})})]})}},46601:function(){},89214:function(){},71922:function(){},2363:function(){},96419:function(){},56353:function(){},27790:function(){},69386:function(){},31616:function(){},29120:function(){},46586:function(){},56099:function(){},63609:function(){},71156:function(){},52361:function(){},94616:function(){},6567:function(){},83954:function(){}},function(n){var e=function(e){return n(n.s=e)};n.O(0,[76],(function(){return e(81486),e(35666),e(81271)}));n.O()}]);
//# sourceMappingURL=main.fe17bcf8.js.map